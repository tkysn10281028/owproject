# 目次

- バックエンド
  - ディレクトリについて
  - app 以下に配置する資材の作成ルール
  - 細かいルール
- フロントエンド
- 環境

## バックエンド

### ディレクトリについて

- src/main/java 以下の構造は以下を採用し、サブディレクトリの作成は原則として行わないこと。

```
  com.oysterworld.portfolio.owproject_backend/
  │
  ├── app
  │    ├── business
  │         ┗── 各機能のディレクトリ
  │    ├── controller
  │         ┗── 各機能のディレクトリ
  │    └── service
  │         ┗── 各機能のディレクトリ
  │
  ├── base
  │
  ├── common
  │
  ├── database
  │    ┗── mapper
  │
  ├── exception
  │
  ┗── security
```

### app 以下に配置する資材の作成ルール

あなたは架空のブログサービスを作りたい。ブログを投稿して、その内容を参照できる。  
→ このサービスの業務ドメインとビジネスロジックは以下のようになる。

- 業務ドメイン

  - ID(ブログの内容を識別できる一意なハッシュ値)
  - タイトル
  - 内容
  - 内部用 ID(ソートなどを行うための連番 ID)

- ビジネスロジック

  - タイトルからブログを取得する
  - ID からブログを取得する
  - 全てのブログの一覧を取得する
  - ブログを投稿する

→ また、補助要件として以下を作る必要がある。

- バリデーション
  - タイトルが空欄、もしくはスペースのみだった場合は入力エラー
  - ID が空欄、もしくはスペースのみだった場合は入力エラー
  - 同じタイトルのブログがすでに投稿されていた場合は入力エラー
  - 同じ ID が重複して存在している場合は、サーバーエラー
- データ永続化
  - ブログを投稿したらデータベースに格納する。

→ 以上を踏まえて、このサービスは以下のような構成になる。

```
  ┗── app
       ├── business
            ┗── blog
                 ┣── Blog                        ・・・業務ドメイン
                 ┗── BlogBusinessLogic           ・・・ビジネスロジック
       ├── controller
            ┗── blog
                 ┗── BlogController              ・・・webAPI
       └── service
            ┗── blog
                 ┣── BlogService                 ・・・ビジネスロジックからの呼び出しとDB連携
                 ┗── BlogValidationService       ・・・バリデーション
```

### 細かいルール

★ 業務ドメインクラスについて

1. 業務ドメインクラス(上記の例では Blog)の他に各レイヤで対応するオブジェクトを作成すること。

- データベース操作用オブジェクト
- リクエスト用オブジェクト
- レスポンス用オブジェクト
  なお各レイヤのオブジェクトはファイルに分けずに業務ドメインのクラスにまとめて記述し、業務ドメインのクラスからのみ生成できるようにする。
  > 各レイヤを大量のオブジェクトで汚すことを防ぐ狙い。

★ Controller クラス・例外処理について

1. webAPI は以下の JSON 形式で返却すること。

```
{
    message:メッセージ
    data:処理結果の返却データ
}
```

2. また、発生した例外の種類に応じて以下のステータスコードを返却する。

```
  400:ユーザーの不正なリクエスト(バリデーションエラーなど)
  401:認証エラー
  403:認可エラー
  500:サーバー側のエラー(サーバーが悪いエラー)
```
